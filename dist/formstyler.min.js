/*! @alexanevsky/formstyler v3.1.1 (c) Alexanevsky | https://github.com/alexanevsky/formstyler#readme */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e($||require("jquery")):e(jQuery)}(function(E){"use strict";var a="formstyler",l={idSuffix:"-formstyler",locale:"en",small:!1,checkboxImage:"",checkboxIcon:"",checkboxSwitch:!1,checkboxColored:!1,fileNumberLimit:3,fileIconUpload:"",fileIconFile:"",fileImageUpload:"",fileImageFile:"",fileButtonClass:"",numberIconPlus:"",numberIconMinus:"",numberImagePlus:"",numberImageMinus:"",numberColored:!1,selectSearchLimit:30,selectSearchClass:"",selectTriggerIcon:"",selectTriggerImage:"",selectVisibleOptions:0,selectSmartPositioning:!0,multiselectToggleLimit:10,multiselectNumberLimit:5,multiselectOptionImage:"",multiselectOptionIcon:"",multiselectColored:!1,localeCustom:{},locales:{en:{filePlaceholder:"No file selected",fileBrowseEmpty:"Browse a file",fileBrowse:"Browse",fileNumber:"Selected files: %s",selectPlaceholder:"Select...",selectSearchNotFound:"No matches found",selectSearchPlaceholder:"Search...",multiselectPlaceholder:"No option selected",multiselectAll:"All selected",multiselectNumber:"Selected %s of %a",multiselectToggle:"Toggle all"},ru:{filePlaceholder:"Файл не выбран",fileBrowseEmpty:"Выберите файл",fileBrowse:"Выбрать",fileNumber:"Выбрано файлов: %s",selectPlaceholder:"Выберите...",selectSearchNotFound:"Совпадений не найдено",selectSearchPlaceholder:"Поиск...",multiselectPlaceholder:"Ничего не выбрано",multiselectAll:"Выбраны все",multiselectNumber:"Выбрано %s из %a",multiselectToggle:"Выбрать все"}},onSelectOpened:function(){},onSelectClosed:function(){},onFormStyled:function(){}},z={check:{checkbox:"formstyler-checkbox",checkblock:"formstyler-checkblock",dot:"formstyler-checkbox-dot",icon:"formstyler-checkbox-icon",image:"formstyler-checkbox-image"},switch:{switchbox:"formstyler-switchbox",switchblock:"formstyler-switchblock",dot:"formstyler-switchbox-dot"},radio:{radio:"formstyler-radio",radioblock:"formstyler-radioblock",dot:"formstyler-radio-dot"},file:{file:"formstyler-file",empty:"formstyler-file-empty",name:"formstyler-file-name",nameValue:"formstyler-file-name-value",nameImage:"formstyler-file-name-image",nameIcon:"formstyler-file-name-icon",button:"formstyler-file-button",buttonSpan:"formstyler-file-button-span",buttonValue:"formstyler-file-button-value",buttonImage:"formstyler-file-button-image",buttonIcon:"formstyler-file-button-icon"},number:{number:"formstyler-number",button:"formstyler-number-button",buttonAngle:"formstyler-number-button-angle",buttonImage:"formstyler-number-button-image",buttonIcon:"formstyler-number-button-icon",plus:"formstyler-number-plus",minus:"formstyler-number-minus",angle:"formstyler-number-angle",image:"formstyler-number-image",icon:"formstyler-number-icon"},select:{container:"formstyler-select",multiple:"formstyler-multiselect",select:"formstyler-select-box",selectText:"formstyler-select-text",selectTextPlaceholder:"formstyler-select-text-placeholder",selectTrigger:"formstyler-select-trigger-angle",selectTriggerIcon:"formstyler-select-trigger-icon",selectTriggerImage:"formstyler-select-trigger-image",dropdown:"formstyler-select-dropdown",toggle:"formstyler-select-toggle",search:"formstyler-select-search",searchCustom:"formstyler-select-search-custom",searchInput:"formstyler-select-search-input",searchNotfound:"formstyler-select-notfound",list:"formstyler-select-list",option:"formstyler-select-option",optionPlaceholder:"formstyler-select-option-placeholder",optionOptgrouped:"formstyler-optgrouped",checkDot:"formstyler-select-check-dot",checkImage:"formstyler-select-check-image",checkIcon:"formstyler-select-check-icon",optgroup:"formstyler-select-optgroup",posUp:"formstyler-select-pos-up",posDown:"formstyler-select-pos-down"},label:{label:"formstyler-label"},status:{opened:"formstyler-opened",changed:"formstyler-changed",hovered:"formstyler-hovered",focused:"formstyler-focused",disabled:"formstyler-disabled",checked:"formstyler-checked",colored:"formstyler-colored",styled:"formstyler-styled",iconed:"formstyler-iconed",selected:"formstyler-selected",small:"formstyler-small"}};function o(e,t){this.element=e,this.options=E.extend({},l,t);var s=this.options.locale;void 0===this.options.locales[s]&&(s=l.locale),E.extend(this.options,this.options.locales[s]),this.options.localeCustom&&E.extend(this.options,this.options.localeCustom),this.init()}function W(e){var t,s,l;E(e.target).parents().hasClass(z.select.container)||"OPTION"==e.target.nodeName||E("."+z.select.container+"."+z.status.opened).length&&(t=E("."+z.select.container+"."+z.status.opened),s=E("."+z.select.search+" input",t),l=E("."+z.select.dropdown,t),t.find("select").data("_"+a).options.onSelectClosed.call(t),s.length&&s.val("").keyup(),l.hide(),t.removeClass(z.status.focused+" "+z.status.opened+" "+z.select.posUp+" "+z.select.posSown))}o.prototype={init:function(){var l,a,o,e,t,s,c,i,B=E(this.element),L=this.options,P=!(!navigator.userAgent.match(/(iPad|iPhone|iPod)/i)||navigator.userAgent.match(/(Windows\sPhone)/i));navigator.userAgent.match(/Android/i)&&navigator.userAgent.match(/(Windows\sPhone)/i);function _(){void 0!==B.attr("id")&&""!==B.attr("id")&&(this.id=B.attr("id")+L.idSuffix),this.title=B.attr("title"),this.classes=B.attr("class"),this.data=B.data()}B.is(":checkbox")?(l="default",o=a="",1==B.data("switch")?l="switch":B.data("image")?l="image":B.data("icon")?l="icon":L.checkboxSwitch?l="switch":L.checkboxImage?l="image":L.checkboxIcon&&(l="icon"),"icon"==l?(a=B.data("icon")||L.checkboxIcon)||(l="default"):"image"==l&&((o=B.data("image")||L.checkboxImage)||(l="default")),(e=function(){var e,t,s;"switch"==l?(B.next("label[for="+B.attr("id")+"]").length&&!B.parent().hasClass(z.switch.switchblock)&&(B.next("label[for="+B.attr("id")+"]").addClass(z.label.label).wrap('<div class="'+z.switch.switchblock+'"></div>'),B.prependTo(B.next("."+z.switch.switchblock))),t=new _,s=E('<div class="'+z.switch.switchbox+'"><div class="'+z.switch.dot+'"></div></div>').attr({id:t.id,title:t.title}).addClass(t.classes).data(t.data),B.after(s).prependTo(s),B.is(":disabled")&&s.parent().hasClass(z.switch.switchblock)&&s.parent().addClass(z.status.disabled)):(B.next("label[for="+B.attr("id")+"]").length&&!B.parent().hasClass(z.check.checkblock)&&(B.next("label[for="+B.attr("id")+"]").addClass(z.label.label).wrap('<div class="'+z.check.checkblock+'"></div>'),B.prependTo(B.next("."+z.check.checkblock))),e="",e="image"==l?'<img class="'+z.check.image+'" src="'+o+'" alt="">':"icon"==l?'<i class="'+z.check.icon+" "+a+'"></i>':'<div class="'+z.check.dot+'"></div>',t=new _,s=E('<div class="'+z.check.checkbox+'">'+e+"</div>").attr({id:t.id,title:t.title}).addClass(t.classes).data(t.data),B.after(s).prependTo(s),B.is(":disabled")&&s.parent().hasClass(z.check.checkblock)&&s.parent().addClass(z.status.disabled)),(!0===B.data("colored")||1==L.checkboxColored&&!1!==B.data("colored"))&&s.addClass(z.status.colored),B.is(":checked")&&s.addClass(z.status.checked),B.is(":disabled")&&s.addClass(z.status.disabled),s.click(function(e){e.preventDefault(),B.triggerHandler("click"),s.is("."+z.status.disabled)||(B.is(":checked")?(B.prop("checked",!1),s.removeClass(z.status.checked)):(B.prop("checked",!0),s.addClass(z.status.checked)),B.focus().change(),s.removeClass(z.status.focused))}),B.closest("label").add('label[for="'+B.attr("id")+'"]').on("click.formstyler",function(e){E(e.target).is("a")||E(e.target).closest(s).length||(s.triggerHandler("click"),e.preventDefault())}),B.on("change.formstyler",function(){B.is(":checked")?s.addClass(z.status.checked):s.removeClass(z.status.checked)}).on("keydown.formstyler",function(e){32==e.which&&s.click()}).on("focus.formstyler",function(){s.is("."+z.status.disabled)||s.addClass(z.status.focused)}).on("blur.formstyler",function(){s.removeClass(z.status.focused)}),E('label[for="'+B.attr("id")+'"]').hover(function(){B.is(":disabled")||s.addClass(z.status.hovered)},function(){s.removeClass(z.status.hovered)})})(),B.on("refresh",function(){B.closest("label").add('label[for="'+B.attr("id")+'"]').off(".formstyler"),B.off(".formstyler").parent().before(B).remove(),B.closest("."+z.check.checkblock).length&&B.closest("."+z.check.checkblock).children().unwrap(),B.closest("."+z.switch.switchblock).length&&B.closest("."+z.switch.switchblock).children().unwrap(),e()})):B.is(":radio")?((t=function(){B.next("label[for="+B.attr("id")+"]").length&&!B.parent().hasClass(z.radio.radioblock)&&(B.next("label[for="+B.attr("id")+"]").addClass(z.label.label).wrap('<div class="'+z.radio.radioblock+'"></div>'),B.prependTo(B.next("."+z.radio.radioblock)));var e=new _,s=E('<div class="'+z.radio.radio+'"><div class="'+z.radio.dot+'"></div></div>').attr({id:e.id,title:e.title}).addClass(e.classes).data(e.data);B.after(s).prependTo(s),B.is(":checked")&&s.addClass(z.status.checked),B.is(":disabled")&&s.addClass(z.status.disabled),B.is(":disabled")&&s.parent().hasClass(z.radio.radioblock)&&s.parent().addClass(z.status.disabled),E.fn.commonParents=function(){var e=this;return e.first().parents().filter(function(){return E(this).find(e).length===e.length})},E.fn.commonParent=function(){return E(this).commonParents().first()},s.click(function(e){var t;e.preventDefault(),B.triggerHandler("click"),s.is("."+z.status.disabled)||((t=E('input[name="'+B.attr("name")+'"]')).commonParent().find(t).prop("checked",!1).parent().removeClass(z.status.checked),B.prop("checked",!0).parent().addClass(z.status.checked),B.focus().change(),s.removeClass(z.status.focused))}),B.closest("label").add('label[for="'+B.attr("id")+'"]').on("click.formstyler",function(e){E(e.target).is("a")||E(e.target).closest(s).length||(s.triggerHandler("click"),e.preventDefault())}),B.on("change.formstyler",function(){B.parent().addClass(z.status.checked)}).on("focus.formstyler",function(){s.is("."+z.status.disabled)||s.addClass(z.status.focused)}).on("blur.formstyler",function(){s.removeClass(z.status.focused)}),E('label[for="'+B.attr("id")+'"]').hover(function(){B.is(":disabled")||s.addClass(z.status.hovered)},function(){s.removeClass(z.status.hovered)})})(),B.on("refresh",function(){B.closest("label").add('label[for="'+B.attr("id")+'"]').off(".formstyler"),B.off(".formstyler").parent().before(B).remove(),B.closest("."+z.radio.radioblock).length&&B.closest("."+z.radio.radioblock).children().unwrap(),t()})):B.is(":file")?((s=function(){var e=L.fileButtonClass||B.data("button-class")||z.status.styled;B.is(":disabled")&&(e=z.status.styled);var a=B.data("placeholder")||L.filePlaceholder,o=B.data("browse")||L.fileBrowse,c=B.data("browse-empty")||L.fileBrowseEmpty,t="",s="";B.data("image-file")?t='<img class="'+z.file.nameImage+'" src="'+B.data("image-file")+'" alt="">':B.data("icon-file")?t='<i class="'+z.file.nameIcon+" "+B.data("icon-file")+'"></i>':L.fileImageFile?t='<img class="'+z.file.nameImage+'" src="'+L.fileImageFile+'" alt="">':L.fileIconFile&&(t='<i class="'+z.file.nameIcon+" "+L.fileIconFile+'"></i>'),B.data("image-upload")?s='<img class="'+z.file.buttonImage+'" src="'+B.data("image-upload")+'" alt="">':B.data("icon-upload")?s='<i class="'+z.file.buttonIcon+" "+B.data("icon-upload")+'"></i>':L.fileImageUpload?s='<img class="'+z.file.buttonImage+'" src="'+L.fileImageUpload+'" alt="">':L.fileIconUpload&&(s='<i class="'+z.file.buttonIcon+" "+L.fileIconUpload+'"></i>'),s&&(e=e+" "+z.status.iconed);var l=new _,i=E('<div class="'+z.file.file+" "+z.file.empty+'"><div class="'+z.file.button+" "+e+'"><span class="'+z.file.buttonSpan+'">'+s+'<span class="'+z.file.buttonValue+'">'+c+'</span></span></div><div class="'+z.file.name+'">'+t+'<span class="'+z.file.nameValue+'">'+a+"</span></div></div>").attr({id:l.id,title:l.title}).addClass(l.classes).data(l.data);B.after(i).appendTo(i),B.is(":disabled")&&i.addClass(z.status.disabled);var r=B.val(),n=E("."+z.file.nameValue,i);r&&n.text(r.replace(/.+[\\\/]/,"")),B.on("change.formstyler",function(){var e,t,s,l=B.val();B.is("[multiple]")&&(l="",0<(t=(e=B[0].files).length)&&(l=(B.data("number-limit")||L.fileNumberLimit)<=t?(B.data("number")||L.fileNumber).replace("%s",t):(s=[],E.each(e,function(e,t){s[e]=t.name}),s.join(", ")))),n.text(l.replace(/.+[\\\/]/,"")),""===l?(n.text(a),i.find(z.file.buttonValue).text(c),i.addClass(z.file.empty)):(i.find(z.file.buttonValue).text(o),i.removeClass(z.file.empty))}).on("focus.formstyler",function(){i.addClass(z.status.focused)}).on("blur.formstyler",function(){i.removeClass(z.status.focused)}).on("click.formstyler",function(){i.removeClass(z.status.focused)}),E('label[for="'+B.attr("id")+'"]').hover(function(){B.is(":disabled")||i.addClass(z.status.hovered)},function(){i.removeClass(z.status.hovered)})})(),B.on("refresh",function(){B.off(".formstyler").parent().before(B).remove(),s()})):B.is('input[type="number"]')?((c=function(){var e="",t="",s="",s=B.data("image-plus")&&B.data("image-minus")?(e=z.number.buttonImage,t='<img class="'+z.number.image+'" src="'+B.data("image-plus")+'" alt="">','<img class="'+z.number.image+'" src="'+B.data("image-minus")+'" alt="">'):B.data("icon-plus")&&B.data("icon-minus")?(e=z.number.buttonIcon,t='<i class="'+z.number.icon+" "+B.data("icon-plus")+'"></i>','<i class="'+z.number.icon+" "+B.data("icon-minus")+'"></i>'):L.numberImagePlus&&L.numberImageMinus?(e=z.number.buttonImage,t='<img class="'+z.number.image+'" src="'+L.numberImagePlus+'" alt="">','<img class="'+z.number.image+'" src="'+L.numberImageMinus+'" alt="">'):L.numberIconPlus&&L.numberIconMinus?(e=z.number.buttonIcon,t='<i class="'+z.number.icon+" "+L.numberIconPlus+'"></i>','<i class="'+z.number.icon+" "+L.numberIconMinus+'"></i>'):(e=z.number.buttonAngle,t=""),l=new _,a=E('<div class="'+z.number.number+'"><div class="'+z.number.button+" "+z.number.plus+" "+e+'">'+t+'</div><div class="'+z.number.button+" "+z.number.minus+" "+e+'">'+s+"</div></div>").attr({id:l.id,title:l.title});B.after(a).prependTo(a),(!0===B.data("colored")||1==L.numberColored&&!1!==B.data("colored"))&&a.addClass(z.status.colored),B.is(":disabled")&&a.addClass(z.status.disabled);var o,c,i,r=null,n=null;void 0!==B.attr("min")&&(o=B.attr("min")),void 0!==B.attr("max")&&(c=B.attr("max")),i=void 0!==B.attr("step")&&E.isNumeric(B.attr("step"))?Number(B.attr("step")):Number(1);function d(e){var t,s=B.val();E.isNumeric(s)||(s=0,B.val("0")),e.is("."+z.number.minus)?t=Number(s)-i:e.is("."+z.number.plus)&&(t=Number(s)+i);var l=(i.toString().split(".")[1]||[]).length;if(0<l){for(var a="1";a.length<=l;)a+="0";t=Math.round(t*a)/a}E.isNumeric(o)&&E.isNumeric(c)?o<=t&&t<=c&&B.val(t):E.isNumeric(o)&&!E.isNumeric(c)?o<=t&&B.val(t):(E.isNumeric(o)||!E.isNumeric(c)||t<=c)&&B.val(t)}a.is("."+z.status.disabled)||(a.on("mousedown","."+z.number.button,function(){var e=E(this);d(e),r=setTimeout(function(){n=setInterval(function(){d(e)},40)},350)}).on("mouseup mouseout","."+z.number.button,function(){clearTimeout(r),clearInterval(n)}).on("mouseup","."+z.number.button,function(){B.change().trigger("input")}),B.on("focus.formstyler",function(){a.addClass(z.status.focused)}).on("blur.formstyler",function(){a.removeClass(z.status.focused)})),E('label[for="'+B.attr("id")+'"]').hover(function(){B.is(":disabled")||a.addClass(z.status.hovered)},function(){a.removeClass(z.status.hovered)})})(),B.on("refresh",function(){B.off(".formstyler").closest("."+z.number.number).before(B).remove(),c()}),L.numberValCheck&&B.keyup(function(){var e=parseInt(B.val()),t=B.attr("max").length?parseInt(B.attr("max")):null,s=B.attr("min").length?parseInt(B.attr("min")):null;null!==t&&t<e?B.val(t):null!==s&&e<s&&B.val(s)})):B.is("select")&&((i=function(){function A(t){var s=t.prop("scrollHeight")-t.outerHeight(),l=null,a=null;t.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(e){l=e.originalEvent.detail<0||0<e.originalEvent.wheelDelta?1:-1,a=t.scrollTop(),(s<=a&&l<0||a<=0&&0<l)&&(e.stopPropagation(),e.preventDefault())})}var M=E("option",B),F="",V="";function j(){for(var e=0;e<M.length;e++){var t=M.eq(e),s="",l="",a=[],o=[],c=t.data();for(var i in a.push(z.select.option),t.prop("selected")&&a.push(z.status.selected),t.is(":disabled")&&a.push(z.status.disabled),t.is(":first-child")&&""===t.val()&&a.push(z.select.optionPlaceholder),void 0!==t.attr("class")&&a.push(t.attr("class")),void 0!==t.attr("id")&&""!==t.attr("id")&&(o.push('id="'+t.attr("id")+L.idSuffix+'"'),o.push('data-id="'+t.attr("id")+'"')),void 0!==t.attr("title")&&""!==M.attr("title")&&o.push('title="'+t.attr("title")+'"'),c)""!==c[i]&&o.push("data-"+i+'="'+c[i]+'"');t.parent().is("optgroup")&&(a.push(z.select.optionOptgrouped),o.push('data-optgroup="'+t.parent().index()+'"'),t.is(":first-child")&&(l='<li data-index="'+t.parent().index()+'" class="'+z.select.optgroup+'">'+t.parent().attr("label")+"</label>")),o.unshift('class="'+a.join(" ")+'"'),s=t.data("html")?"<li "+o.join(" ")+' data-text="'+t.text()+'">'+V+t.data("html")+"</li>":"<li "+o.join(" ")+">"+V+t.text()+"</li>",""!=l&&(s=l+s),F+=s}}B.is("[multiple]")&&(V=B.data("check-image")?'<img class="'+z.select.checkImage+'" src="'+B.data("check-image")+'" alt="">':B.data("check-icon")?'<i class="'+z.select.checkIcon+" "+B.data("check-icon")+'"></i>':L.multiselectOptionImage?'<img class="'+z.select.checkImage+'" src="'+L.multiselectOptionImage+'" alt="">':L.multiselectOptionIcon?'<i class="'+z.select.checkIcon+" "+L.multiselectOptionIcon+'"></i>':'<span class="'+z.select.checkDot+'"></span>'),(B.is("[multiple]")?function(){var e="",t="",o=B.data("placeholder")||L.multiselectPlaceholder,c=B.data("all")||L.multiselectAll,s=B.data("search-limit")||L.selectSearchLimit,l=B.data("search-not-found")||L.selectSearchNotFound,a=B.data("search-placeholder")||L.selectSearchPlaceholder,r=B.data("smart-positioning")||L.selectSmartPositioning,i=B.data("number")||L.multiselectNumber,n=B.data("number-limit")||L.multiselectNumberLimit,d=B.data("toggle")||L.multiselectToggle,u=B.data("toggle-limit")||L.multiselectToggleLimit,h="";function m(e){var s,t=e.filter(":selected"),l=e.length,a=t.length;return a?l==a?c:n<=a?i.replace("%s",a).replace("%a",l):(s=[],t.each(function(e,t){s.push(E(t).text())}),s.join(", ")):o}h=B.data("image")?'<img class="'+z.select.selectTriggerImage+'" src="'+B.data("image")+'" alt="">':B.data("icon")?'<i class="'+z.select.selectTriggerIcon+" "+B.data("icon")+'"></i>':L.selectTriggerImage?'<img class="'+z.select.selectTriggerImage+'" src="'+L.selectTriggerImage+'" alt="">':L.selectTriggerIcon?'<i class="'+z.select.selectTriggerIcon+" "+L.selectTriggerIcon+'"></i>':'<div class="'+z.select.selectTrigger+'"></div>';var f=new _,p=E('<div class="'+z.select.container+" "+z.select.multiple+'"><div class="'+z.select.select+'"><div class="'+z.select.selectText+'"></div>'+h+"</div></div>").attr({id:f.id,title:f.title}).addClass(f.classes).data(f.data);B.after(p).prependTo(p),(!0===B.data("colored")||1==L.multiselectColored&&!1!==B.data("colored"))&&p.addClass(z.status.colored),(!0!==L.small||"true"===B.data("small")||!0===B.data("small"))&&"true"!==B.data("small")&&!0!==B.data("small")||p.addClass(z.status.small);var g=0<(g=p.css("z-index"))?g:1,v=E("."+z.select.select,p),b=E("."+z.select.selectText,p),C=M.filter(":selected");j();var y=B.data("search-class")||L.selectSearchClass||z.select.searchInput,x=B.data("search-class")||L.selectSearchClass||z.select.searchInput,y=x!=z.select.searchInput?z.select.search+" "+z.select.searchCustom:z.select.search;!1!==s&&s<=M.length&&(e='<div class="'+y+'"><input type="text" class="'+x+'" autocomplete="off" placeholder="'+a+'"></div><div class="'+z.select.searchNotfound+'">'+l+"</div>"),!1!==u&&M.length>=u&&(t='<div class="'+z.select.toggle+'">'+V+d+"</div>");var w=E('<div class="'+z.select.dropdown+'">'+e+t+'<ul class="'+z.select.list+'">'+F+"</ul></div>");p.append(w);var k=E("."+z.select.list,w),I=E("."+z.select.option+", ."+z.select.optgroup,w),T=E("."+z.select.search+" input",w),P=E("."+z.select.searchNotfound,w).hide(),S=E("."+z.select.toggle,w);I.length<s&&T.parent().hide(),C.length?b.text(m(M)).removeClass(z.select.selectTextPlaceholder):b.text(o).addClass(z.select.selectTextPlaceholder),C.length==M.length&&S.addClass(z.status.selected);var N,D=p.outerHeight(!0),H=T.parent().outerHeight(!0)||0,U=S.outerHeight(!0)||0,O=k.css("max-height");I.filter("."+z.status.selected),void 0===I.data("li-height")&&(N=I.outerHeight(),!1!==o&&(N=I.eq(1).outerHeight()),I.data("li-height",N));var q=w.css("top");"auto"==w.css("left")&&w.css({left:0}),"auto"==w.css("top")&&(w.css({top:D}),q=D),w.hide(),B.is(":disabled")?p.addClass(z.status.disabled):(v.click(function(){E("."+z.select.container).filter("."+z.status.opened).length&&L.onSelectClosed.call(E("."+z.select.container).filter("."+z.status.opened)),B.focus();var t=E(window),s=I.data("li-height"),l=p.offset().top,a=t.height()-D-(l-t.scrollTop()),e=B.data("visible-options");void 0!==e&&""!==e||(e=L.selectVisibleOptions);var o=5*s,c=s*e;0<e&&e<6&&(o=c),0===e&&(c="auto");function i(){function e(){k.css("max-height",Math.floor((a-20-H-U)/s)*s)}w.height("auto").css({bottom:"auto",top:q}),e(),k.css("max-height",c),"none"!=O&&k.css("max-height",O),a<w.outerHeight()+20&&e()}!0===r||1===r?o+H+U+20<a?(i(),p.removeClass(z.select.posUp).addClass(z.select.posDown)):(function(){w.height("auto").css({top:"auto",bottom:q});function e(){k.css("max-height",Math.floor((l-t.scrollTop()-20-H-U)/s)*s)}e(),k.css("max-height",c),"none"!=O&&k.css("max-height",O),l-t.scrollTop()-20<w.outerHeight()+20&&e()}(),p.removeClass(z.select.posDown).addClass(z.select.posUp)):!1===r||0===r?o+H+U+20<a&&(i(),p.removeClass(z.select.posUp).addClass(z.select.posDown)):(w.height("auto").css({bottom:"auto",top:q}),k.css("max-height",c),"none"!=O&&k.css("max-height",O)),p.offset().left+w.outerWidth()>t.width()&&w.css({left:"auto",right:0,width:"auto"}),E("."+z.select.container).css({zIndex:g-1}).removeClass(z.status.opened),p.css({zIndex:g}),w.is(":hidden")?(E("."+z.select.dropdown+":visible").hide(),w.show(),p.addClass(z.status.opened+" "+z.status.focused),L.onSelectOpened.call(p)):(w.hide(),p.removeClass(z.status.opened+" "+z.select.posUp+" "+z.select.posDown),E("."+z.select.container).filter("."+z.status.opened).length&&L.onSelectClosed.call(p)),T.length&&(T.val("").keyup(),P.hide(),T.keyup(function(){var e=E(this).val();""==e?I.show():I.each(function(){E(this).is(":first-child")&&E(this).hasClass(z.select.optionPlaceholder)||!E(this).hasClass(z.select.option)||!E(this).html().match(new RegExp(".*?"+e+".*?","i"))?E(this).hide():E(this).show(),E(this).is(":visible")&&void 0!==E(this).data("optgroup")&&E(this).parent().find("."+z.select.optgroup+"[data-index="+E(this).data("optgroup")+"]").show()}),I.not("."+z.select.optgroup).filter(":visible").not("."+z.status.selected).length<1?S.addClass(z.status.selected):S.removeClass(z.status.selected),I.filter(":visible").length<1?(P.show(),S.hide()):(P.hide(),S.show())})),I.filter("."+z.status.selected).length&&(""===B.val()?k.scrollTop(0):(k.innerHeight()/s%2!=0&&(s/=2),k.scrollTop(k.scrollTop()+I.filter("."+z.status.selected).first().position().top-k.innerHeight()/2+s))),A(k)}),I.filter("."+z.status.selected).text(),I.filter(":not(."+z.status.disabled+"):not(."+z.select.optgroup+")").click(function(){B.focus();var e=E(this),t=e.index();t-=e.prevAll("."+z.select.optgroup).length,e.is("."+z.status.selected)?M.eq(t).prop("selected",!1):M.eq(t).prop("selected",!0),B.change()}),S.click(function(){B.focus(),M.each(function(e,t){var s=E(t);I.not("."+z.select.optgroup).eq(e).is(":visible")&&!s.is(":disabled")&&(S.hasClass(z.status.selected)?s.prop("selected",!1):s.prop("selected",!0))}),B.change()}),B.on("change.formstyler",function(){b.text(m(M)),M.filter(":selected").length?(p.removeClass(z.status.changed),b.removeClass(z.select.selectTextPlaceholder)):(p.addClass(z.status.changed),b.addClass(z.select.selectTextPlaceholder)),M.each(function(e,t){E(t).is(":selected")?I.not("."+z.select.optgroup).eq(e).addClass(z.status.selected):I.not("."+z.select.optgroup).eq(e).removeClass(z.status.selected)}),I.not("."+z.select.optgroup).filter(":visible").not("."+z.status.selected).length<1?S.addClass(z.status.selected):S.removeClass(z.status.selected)}).on("focus.formstyler",function(){p.addClass(z.status.focused),E(z.select.container).not("."+z.status.focused).removeClass(z.status.opened+" "+z.select.posUp+" "+z.select.posDown).find("."+z.select.dropdown).hide()}).on("blur.formstyler",function(){p.removeClass(z.status.focused)}).on("keydown.formstyler keyup.formstyler",function(e){var t=I.data("li-height");b.text(m(M)),M.filter(":selected").length?(p.removeClass(z.status.changed),b.removeClass(z.select.selectTextPlaceholder)):(p.addClass(z.status.changed),b.addClass(z.select.selectTextPlaceholder)),M.each(function(e,t){E(t).is(":selected")?I.not("."+z.select.optgroup).eq(e).addClass(z.status.selected):I.not("."+z.select.optgroup).eq(e).removeClass(z.status.selected)}),I.not("."+z.select.optgroup).filter(":visible").not("."+z.status.selected).length<1?S.addClass(z.status.selected):S.removeClass(z.status.selected),38!=e.which&&37!=e.which&&33!=e.which&&36!=e.which||(""===B.val()?k.scrollTop(0):k.scrollTop(k.scrollTop()+I.filter("."+z.status.selected).position().top)),40!=e.which&&39!=e.which&&34!=e.which&&35!=e.which||k.scrollTop(k.scrollTop()+I.filter("."+z.status.selected).position().top-k.innerHeight()+t),13==e.which&&(e.preventDefault(),w.hide(),p.removeClass(z.status.opened+" "+z.select.posUp+" "+z.select.posDown),L.onSelectClosed.call(p))}).on("keydown.formstyler",function(e){32==e.which&&(e.preventDefault(),v.click())}),W.registered||(E(document).on("click",W),W.registered=!0),E('label[for="'+B.attr("id")+'"]').hover(function(){B.is(":disabled")||v.addClass(z.status.hovered)},function(){v.removeClass(z.status.hovered)}))}:function(){var e="",s=B.data("placeholder")||L.selectPlaceholder,t=B.data("search-limit")||L.selectSearchLimit,l=B.data("search-not-found")||L.selectSearchNotFound,a=B.data("search-placeholder")||L.selectSearchPlaceholder,r=B.data("smart-positioning")||L.selectSmartPositioning,o="",o=B.data("image")?'<img class="'+z.select.selectTriggerImage+'" src="'+B.data("image")+'" alt="">':B.data("icon")?'<i class="'+z.select.selectTriggerIcon+" "+B.data("icon")+'"></i>':L.selectTriggerImage?'<img class="'+z.select.selectTriggerImage+'" src="'+L.selectTriggerImage+'" alt="">':L.selectTriggerIcon?'<i class="'+z.select.selectTriggerIcon+" "+L.selectTriggerIcon+'"></i>':'<div class="'+z.select.selectTrigger+'"></div>',c=new _,n=E('<div class="'+z.select.container+'"><div class="'+z.select.select+'"><div class="'+z.select.selectText+'"></div>'+o+"</div></div>").attr({id:c.id,title:c.title}).addClass(c.classes).data(c.data);B.after(n).prependTo(n);var d=0<(d=n.css("z-index"))?d:1,i=E("."+z.select.select,n),u=E("."+z.select.selectText,n),h=M.filter(":selected");j();var m=B.data("search-class")||L.selectSearchClass||z.select.searchInput,f=B.data("search-class")||L.selectSearchClass||z.select.searchInput,m=f!=z.select.searchInput?z.select.search+" "+z.select.searchCustom:z.select.search;(!0!==L.small||"true"===B.data("small")||!0===B.data("small"))&&"true"!==B.data("small")&&!0!==B.data("small")||n.addClass(z.status.small),!1!==t&&t<=M.length&&(e='<div class="'+m+'"><input type="text" class="'+f+'" autocomplete="off" placeholder="'+a+'"></div><div class="'+z.select.searchNotfound+'">'+l+"</div>");var p=E('<div class="'+z.select.dropdown+'">'+e+'<ul class="'+z.select.list+'">'+F+"</ul></div>");n.append(p);var g=E("."+z.select.list,p),v=E("."+z.select.option+", ."+z.select.optgroup,p),b=E("."+z.select.search+" input",p),C=E("."+z.select.searchNotfound,p).hide();v.length<t&&b.parent().hide(),""!==M.first().text()&&""===M.first().val()&&M.first().is(":selected")&&!1===s?u.text(h.text()).addClass(z.select.selectTextPlaceholder):""===M.first().val()&&M.first().is(":selected")&&!1!==s?u.text(s).addClass(z.select.selectTextPlaceholder):u.text(h.text()),""===M.first().text()&&""!==B.data("placeholder")&&v.first().hide();var y,x=n.outerHeight(!0),w=b.parent().outerHeight(!0)||0,k=g.css("max-height"),I=v.filter("."+z.status.selected);I.length<1&&v.first().addClass(z.status.selected),void 0===v.data("li-height")&&(y=v.outerHeight(),!1!==s&&(y=v.eq(1).outerHeight()),v.data("li-height",y));var T=p.css("top");"auto"==p.css("left")&&p.css({left:0}),"auto"==p.css("top")&&(p.css({top:x}),T=x),p.hide(),I.length&&M.first().text()!=h.text()&&n.addClass(z.status.changed),B.is(":disabled")?n.addClass(z.status.disabled):(i.click(function(){var t,s,l,a,e,o,c,i;E("."+z.select.container).filter("."+z.status.opened).length&&L.onSelectClosed.call(E("."+z.select.container).filter("."+z.status.opened)),B.focus(),P||(t=E(window),s=v.data("li-height"),l=n.offset().top,a=t.height()-x-(l-t.scrollTop()),void 0!==(e=B.data("visible-options"))&&""!==e||(e=L.selectVisibleOptions),o=5*s,c=s*e,0<e&&e<6&&(o=c),0===e&&(c="auto"),i=function(){p.height("auto").css({bottom:"auto",top:T});function e(){g.css("max-height",Math.floor((a-20-w)/s)*s)}e(),g.css("max-height",c),"none"!=k&&g.css("max-height",k),a<p.outerHeight()+20&&e()},!0===r||1===r?o+w+20<a?(i(),n.removeClass(z.select.posUp).addClass(z.select.posDown)):(function(){p.height("auto").css({top:"auto",bottom:T});function e(){g.css("max-height",Math.floor((l-t.scrollTop()-20-w)/s)*s)}e(),g.css("max-height",c),"none"!=k&&g.css("max-height",k),l-t.scrollTop()-20<p.outerHeight()+20&&e()}(),n.removeClass(z.select.posDown).addClass(z.select.posUp)):!1===r||0===r?o+w+20<a&&(i(),n.removeClass(z.select.posUp).addClass(z.select.posDown)):(p.height("auto").css({bottom:"auto",top:T}),g.css("max-height",c),"none"!=k&&g.css("max-height",k)),n.offset().left+p.outerWidth()>t.width()&&p.css({left:"auto",right:0,width:"auto"}),E("."+z.select.container).css({zIndex:d-1}).removeClass(z.status.opened),n.css({zIndex:d}),p.is(":hidden")?(E("."+z.select.dropdown+":visible").hide(),p.show(),n.addClass(z.status.opened+" "+z.status.focused),L.onSelectOpened.call(n)):(p.hide(),n.removeClass(z.status.opened+" "+z.select.posUp+" "+z.select.posDown),E("."+z.select.container).filter("."+z.status.opened).length&&L.onSelectClosed.call(n)),b.length&&(b.val("").keyup(),C.hide(),b.keyup(function(){var e=E(this).val();""==e?v.show():v.each(function(){E(this).is(":first-child")&&E(this).hasClass(z.select.optionPlaceholder)||!E(this).hasClass(z.select.option)||!E(this).html().match(new RegExp(".*?"+e+".*?","i"))?E(this).hide():E(this).show(),E(this).is(":visible")&&void 0!==E(this).data("optgroup")&&E(this).parent().find("."+z.select.optgroup+"[data-index="+E(this).data("optgroup")+"]").show()}),""===M.first().text()&&""!==B.data("placeholder")&&v.first().hide(),v.filter(":visible").length<1?C.show():C.hide()})),v.filter("."+z.status.selected).length&&(""===B.val()?g.scrollTop(0):(g.innerHeight()/s%2!=0&&(s/=2),g.scrollTop(g.scrollTop()+v.filter("."+z.status.selected).position().top-g.innerHeight()/2+s))),A(g))}),v.filter("."+z.status.selected).text(),v.filter(":not(."+z.status.disabled+"):not(."+z.select.optgroup+")").click(function(){B.focus();var e,t=E(this),s=t.text();t.is("."+z.status.selected)||(e=t.index(),e-=t.prevAll("."+z.select.optgroup).length,t.addClass(z.status.selected).siblings().removeClass(z.status.selected),M.prop("selected",!1).eq(e).prop("selected",!0),u.text(s),B.change()),p.hide(),n.removeClass(z.status.opened+" "+z.select.posUp+" "+z.select.posDown),L.onSelectClosed.call(n)}),B.on("change.formstyler",function(){u.text(M.filter(":selected").text()),""===M.filter(":selected").val()?u.addClass(z.select.selectTextPlaceholder):u.removeClass(z.select.selectTextPlaceholder),v.removeClass(z.status.selected).not("."+z.select.optgroup).eq(B[0].selectedIndex).addClass(z.status.selected),M.first().text()!=v.filter("."+z.status.selected).text()?n.addClass(z.status.changed):n.removeClass(z.status.changed)}).on("focus.formstyler",function(){n.addClass(z.status.focused),E(z.select.container).not("."+z.status.focused).removeClass(z.status.opened+" "+z.select.posUp+" "+z.select.posDown).find("."+z.select.dropdown).hide()}).on("blur.formstyler",function(){n.removeClass(z.status.focused)}).on("keydown.formstyler keyup.formstyler",function(e){var t=v.data("li-height");""===B.val()?u.text(s).addClass(z.select.selectTextPlaceholder):u.text(M.filter(":selected").text()),v.removeClass(z.status.selected).not("."+z.select.optgroup).eq(B[0].selectedIndex).addClass(z.status.selected),38!=e.which&&37!=e.which&&33!=e.which&&36!=e.which||(""===B.val()?g.scrollTop(0):g.scrollTop(g.scrollTop()+v.filter("."+z.status.selected).position().top)),40!=e.which&&39!=e.which&&34!=e.which&&35!=e.which||g.scrollTop(g.scrollTop()+v.filter("."+z.status.selected).position().top-g.innerHeight()+t),13==e.which&&(e.preventDefault(),p.hide(),n.removeClass(z.status.opened+" "+z.select.posUp+" "+z.select.posDown),L.onSelectClosed.call(n))}).on("keydown.formstyler",function(e){32==e.which&&(e.preventDefault(),i.click())}),W.registered||(E(document).on("click",W),W.registered=!0),E('label[for="'+B.attr("id")+'"]').hover(function(){B.is(":disabled")||i.addClass(z.status.hovered)},function(){i.removeClass(z.status.hovered)}))})()})(),B.on("refresh",function(){B.off(".formstyler").parent().before(B).remove(),i()}))},destroy:function(){var e=E(this.element);e.is(":checkbox")||e.is(":radio")?(e.removeData("_"+a).off(".formstyler refresh").removeAttr("style").parent().before(e).remove(),e.closest("label").add('label[for="'+e.attr("id")+'"]').off(".formstyler")):e.is('input[type="number"]')?e.removeData("_"+a).off(".formstyler refresh").closest(".fformstyler-number").before(e).remove():(e.is(":file")||e.is("select"))&&e.removeData("_"+a).off(".formstyler refresh").removeAttr("style").parent().before(e).remove()}},E.fn[a]=function(t){var s,l=arguments;return void 0===t||"object"==typeof t?(this.each(function(){E.data(this,"_"+a)||E.data(this,"_"+a,new o(this,t))}).promise().done(function(){var e=E(this[0]).data("_"+a);e&&e.options.onFormStyled.call()}),this):"string"==typeof t&&"_"!==t[0]&&"init"!==t?(this.each(function(){var e=E.data(this,"_"+a);e instanceof o&&"function"==typeof e[t]&&(s=e[t].apply(e,Array.prototype.slice.call(l,1)))}),void 0!==s?s:this):void 0},W.registered=!1});